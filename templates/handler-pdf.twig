{{ include_javascript('javascripts/vendor/vue/vue.js') }}
{{ include_javascript('tools/publication/javascripts/handler-pdf.js',false,true) }}
{{ include_css('tools/publication/styles/handler-pdf.css',) }}

<div class="pdf-handler-container" data-is-admin="{{ (isAdmin == true)|json_encode }}">
    <translations>
        <template #errorforadmin>{{ _t('PUBLICATION_ERROR_FOR_ADMIN') }}</template>
        <template #errorforuser>{{ _t('PUBLICATION_ERROR_FOR_USER') }}</template>
        <template #printviapreview>{{ _t('PUBLICATION_PRINT_VIA_PREVIEW') }}</template>
    </translations>
    <h2>{{ _t('PUBLICATION_PDF_CREATION',{pageTag:pageTag}) }}</h2>
    <div>
        <step :name="'getPdfServiceUrl'" :value="urlOfPdfServiceGet" :text="{{ _t('PUBLICATION_GET_PDF_SERVICE_URL')|json_encode }}"></step>
        <step :name="'contactService'" :value="pdfServiceContacted" :text="{{ _t('PUBLICATION_CONTACT_SERVICE')|json_encode }}"></step>
        <step :name="'getPdf'" :value="pdfDownloaded" :text="{{ _t('PUBLICATION_DOWNLOAD_PDF')|json_encode }}"></step>
    </div>
    <div v-if="message.length > 0" :class="{alert:true,[`alert-${messageType}`]:true}" v-html="message">
    </div>
    <button v-if="buttonTitle.length > 0" v-html="buttonTitle" :class="{btn:true,[`btn-${buttonType}`]:true}" @click.prevent.stop="manageButton"></button>
    <a 
        v-if="downloadLink.length > 0" 
        :download="downloadFileName"
        class="btn btn-primary"
        title="{{ _t('PUBLICATION_SAVE_FILE') }}"
        :href="downloadLink"
        >
      {{ _t('PUBLICATION_SAVE_FILE') }}
    </a>
</div>